{
  "meta": {
    "project": "Lovask Web",
    "date": "2026-02-15",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Lovask Web is the frontend user application for a dating/matching product focused on authentication, onboarding, swipe-based discovery, matches and chat, profile management, and settings. This PRD captures happy-path and critical error-path user flows for E2E testing of the client-side experience.",
  "core_goals": [
    "Provide reliable authentication, session persistence and protected-route behavior.",
    "Guide users through a required onboarding flow before entering the main app.",
    "Enable core matching experiences: swipe, like/pass, match handling and messaging.",
    "Expose profile management and settings (including logout) with clear feedback.",
    "Surface premium vs non-premium differences (Liked Me behavior, rewind/super-like) for test coverage.",
    "Ensure UI/UX quality: loaders, empty states, error messages, and mobile/desktop stability."
  ],
  "features": [
    {
      "name": "User Authentication",
      "description": "Register new users, log in existing users, maintain session on refresh and allow logout from settings.",
      "user_flows": [
        "Navigate to /register -> Fill name field -> Fill email field with valid format -> Fill password field meeting strength rules -> Click Register button -> See /onboarding",
        "Navigate to /register -> Fill email field with invalid format -> Fill password field -> Click Register button -> See email format error message",
        "Navigate to /login -> Fill email field -> Fill password field -> Click Login button -> See /swipe",
        "Navigate to /login -> Fill email field -> Fill wrong password -> Click Login button -> See authentication error message",
        "Navigate to /login -> Fill email field -> Fill password field -> Click Login button -> Refresh page -> Still see /swipe (session persisted)",
        "Navigate to /settings -> Click Logout button -> Navigate to /swipe -> See redirect to /login (protected route enforced)"
      ]
    },
    {
      "name": "Onboarding",
      "description": "Step-by-step required onboarding sequence that blocks entry to the main app until completed, including photo upload and validation.",
      "user_flows": [
        "Navigate to /onboarding -> Fill required field: display name -> Fill required field: birthdate -> Upload profile photo -> Click Complete/Finish button -> See /swipe",
        "Navigate to /onboarding -> Leave a required field empty -> Click Next/Continue -> See validation error preventing progress",
        "Navigate to /onboarding -> Upload invalid file type for photo -> Click Next/Continue -> See photo upload error message"
      ]
    },
    {
      "name": "Swiping (Feed)",
      "description": "Main discovery interface: view potential match cards, like/pass via buttons or gestures, handle end-of-cards and API errors.",
      "user_flows": [
        "Navigate to /swipe -> View potential match profile card -> Click Like button -> See next profile card",
        "Navigate to /swipe -> View potential match profile card -> Click Pass button -> See next profile card",
        "Navigate to /swipe -> View potential match profile card -> Swipe card right -> See next profile card or match result",
        "Navigate to /swipe -> Swipe through all cards until none remain -> See empty state screen for no more cards",
        "Navigate to /swipe -> See empty state screen -> Click Refresh button -> App requests new cards -> See profile cards loaded",
        "Navigate to /swipe -> Click Like button -> API /api/matches/swipe returns error -> See error message and Retry button"
      ]
    },
    {
      "name": "Match Popup",
      "description": "When a mutual like occurs a match popup appears offering to send an automatic greeting or continue swiping.",
      "user_flows": [
        "Navigate to /swipe -> Click Like button on a profile that results in mutual like -> See Match popup appear",
        "See Match popup -> Click \"Ona merhaba de\" button -> Auto-send message \"Selam nas覺l gidiyor\" -> Navigate to /matches -> Open the match conversation -> See message \"Selam nas覺l gidiyor\" in chat",
        "See Match popup -> Click \"Kayd覺rmaya devam et\" button -> Match popup closes -> Continue swiping on /swipe",
        "Navigate to /swipe -> Click \"Ona merhaba de\" on Match popup -> Auto-send message fails due to network -> See send error toast -> Click Retry -> Message appears in conversation"
      ]
    },
    {
      "name": "Liked Me (discovery of who liked you)",
      "description": "View users who liked you; experience differs for premium vs non-premium accounts (blurred vs clear).",
      "user_flows": [
        "Navigate to /matches -> Click Liked Me tab -> See list of users who liked you (clear) for premium accounts",
        "Navigate to /matches -> Click Liked Me tab -> See blurred/hidden liked profiles for non-premium accounts",
        "Navigate to /matches -> Click Liked Me tab -> Click Unlock/Purchase button -> Complete purchase flow -> See previously blurred liked profiles become clear"
      ]
    },
    {
      "name": "Matches and Chat",
      "description": "List of matches and in-app chat for conversations initiated by matches, including sending and receiving messages.",
      "user_flows": [
        "Navigate to /matches -> See list of matches -> Click a match item -> Open chat view for that match",
        "Open chat view -> Click message input -> Type message -> Click Send button -> See sent message appear in chat",
        "Open chat view -> Type message -> Click Send button while network failing -> See send error and unsent indicator -> Click Retry send -> See message appear",
        "After a match popup auto-message, navigate to /matches -> Open that match conversation -> See auto-sent \"Selam nas覺l gidiyor\" message present"
      ]
    },
    {
      "name": "Profile Management",
      "description": "View and edit the user's profile, including updating fields and uploading photos with proper fallbacks.",
      "user_flows": [
        "Navigate to /profile -> View own profile details -> Click Edit Profile -> Update profile fields (bio, interests) -> Click Save -> See updated profile details",
        "Navigate to /profile -> Click Edit Profile -> Upload photos -> Click Save -> See uploaded photo in profile gallery",
        "Navigate to /profile -> Click Edit Profile -> Upload unsupported file type -> See photo upload error and file rejected -> Provide supported file and save -> See photo accepted",
        "Navigate to /profile -> View profile with missing avatar -> See avatar fallback displayed"
      ]
    },
    {
      "name": "Settings",
      "description": "User settings for notifications, privacy and account actions including logout with confirmation modals where applicable.",
      "user_flows": [
        "Navigate to /settings -> Toggle notification setting ON -> See setting persist and saved state",
        "Navigate to /settings -> Open privacy/account settings page -> See relevant controls and information",
        "Navigate to /settings -> Click Delete Account or destructive action -> See confirmation modal -> Confirm -> See account deletion flow or sign-out",
        "Navigate to /settings -> Click Logout button -> See user signed out and redirected to /login"
      ]
    },
    {
      "name": "Navigation & Protected Routes",
      "description": "Bottom navigation links route to main app sections and protected routes redirect unauthenticated users to login.",
      "user_flows": [
        "From any page -> See bottom nav -> Click Swipe icon -> Navigate to /swipe",
        "From any page -> See bottom nav -> Click Matches icon -> Navigate to /matches",
        "From any page -> See bottom nav -> Click Profile icon -> Navigate to /profile",
        "Attempt to navigate to /swipe while not authenticated -> See redirect to /login (protected route behavior)"
      ]
    },
    {
      "name": "UI/UX Quality Controls",
      "description": "Visual and interaction quality checks: loaders, skeletons, empty states, disabled states and responsive layout preservation.",
      "user_flows": [
        "Navigate to /swipe -> Trigger data load -> See loader/skeleton displayed while cards load -> See cards appear after load completes",
        "Navigate to /matches when there are no matches -> See an appropriate empty state screen",
        "Open chat view -> Leave message input empty -> Observe Send button is disabled",
        "Resize viewport to mobile width -> Navigate through core flows (/swipe, /matches, /profile) -> See layout remains usable without visual overflow"
      ]
    },
    {
      "name": "Test Accounts",
      "description": "Flows to validate differences between non-premium and premium test accounts for feature gating and visibility.",
      "user_flows": [
        "Login with non-premium test account via /login -> Navigate to /matches -> Click Liked Me tab -> See liked profiles blurred/hidden",
        "Login with premium test account via /login -> Navigate to /matches -> Click Liked Me tab -> See liked profiles fully visible",
        "Login with non-premium test account -> Attempt to use Rewind or Super Like premium action -> See prompt to purchase premium or consume coins"
      ]
    }
  ],
  "code_summary": {
    "version": "2",
    "type": "frontend",
    "tech_stack": [
      "typescript",
      "next",
      "react",
      "tailwindcss",
      "supabase-js",
      "zustand",
      "react-query"
    ],
    "routes": [
      {
        "path": "/login",
        "file": "app/(auth)/login/page.tsx",
        "auth_required": false,
        "description": "User login page"
      },
      {
        "path": "/register",
        "file": "app/(auth)/register/page.tsx",
        "auth_required": false,
        "description": "User registration page"
      },
      {
        "path": "/onboarding",
        "file": "app/(auth)/onboarding/page.tsx",
        "auth_required": true,
        "description": "User onboarding flow"
      },
      {
        "path": "/swipe",
        "file": "app/(main)/swipe/page.tsx",
        "auth_required": true,
        "description": "Main swipe interface for matching"
      },
      {
        "path": "/matches",
        "file": "app/(main)/matches/page.tsx",
        "auth_required": true,
        "description": "List of matches and conversations"
      },
      {
        "path": "/profile",
        "file": "app/(main)/profile/page.tsx",
        "auth_required": true,
        "description": "User profile view and edit"
      },
      {
        "path": "/settings",
        "file": "app/(main)/settings/page.tsx",
        "auth_required": true,
        "description": "User settings"
      }
    ],
    "features": [
      {
        "name": "User Authentication",
        "description": "Login, registration, and onboarding flows",
        "files": [
          "app/(auth)/login/page.tsx",
          "app/(auth)/register/page.tsx",
          "app/(auth)/onboarding/page.tsx"
        ],
        "entry_route": "/login",
        "user_interactions": [
          "Fill email and password on login",
          "Click Login button",
          "Fill registration form details",
          "Click Register button",
          "Complete onboarding steps"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/auth/v1/signin"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Swiping",
        "description": "Core matching functionality",
        "files": [
          "app/(main)/swipe/page.tsx",
          "components/SwipeCard.tsx"
        ],
        "entry_route": "/swipe",
        "user_interactions": [
          "View potential match profile",
          "Click Like button",
          "Click Pass button",
          "Swipe card left or right"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/api/matches/swipe"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Profile Management",
        "description": "View and edit user profile",
        "files": [
          "app/(main)/profile/page.tsx"
        ],
        "entry_route": "/profile",
        "user_interactions": [
          "View own profile details",
          "Click Edit Profile",
          "Update profile fields",
          "Upload photos"
        ],
        "auth_required": true
      }
    ],
    "known_limitations": []
  }
}
